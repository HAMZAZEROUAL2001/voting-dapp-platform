# Configuration d'environnement pour WSL
# Source ce fichier avec: source .env.wsl

# Couleurs pour les scripts
export RED='\033[0;31m'
export GREEN='\033[0;32m'
export YELLOW='\033[1;33m'
export BLUE='\033[0;34m'
export NC='\033[0m' # No Color

# Configuration du projet
export PROJECT_NAME="Multi-Applications"
export LIBRARY_FRONTEND_PORT=8080
export LIBRARY_BACKEND_PORT=5000
export DAPP_FRONTEND_PORT=3000
export HARDHAT_NODE_PORT=8545
export HARDHAT_CHAIN_ID=31337

# URLs des services
export LIBRARY_FRONTEND_URL="http://localhost:${LIBRARY_FRONTEND_PORT}"
export LIBRARY_BACKEND_URL="http://localhost:${LIBRARY_BACKEND_PORT}"
export DAPP_FRONTEND_URL="http://localhost:${DAPP_FRONTEND_PORT}"
export HARDHAT_NODE_URL="http://localhost:${HARDHAT_NODE_PORT}"

# Fonctions utiles
project_status() {
    echo -e "${BLUE}=== Statut du Projet ${PROJECT_NAME} ===${NC}"
    echo ""
    
    echo -e "${YELLOW}üìö Biblioth√®que Personnelle:${NC}"
    curl -s $LIBRARY_FRONTEND_URL > /dev/null && echo -e "  ‚úÖ Frontend: $LIBRARY_FRONTEND_URL" || echo -e "  ‚ùå Frontend non accessible"
    curl -s $LIBRARY_BACKEND_URL/books > /dev/null && echo -e "  ‚úÖ Backend API: $LIBRARY_BACKEND_URL" || echo -e "  ‚ùå Backend non accessible"
    
    echo ""
    echo -e "${YELLOW}üó≥Ô∏è DApp de Vote:${NC}"
    curl -s $DAPP_FRONTEND_URL > /dev/null && echo -e "  ‚úÖ Frontend React: $DAPP_FRONTEND_URL" || echo -e "  ‚ùå Frontend non accessible"
    curl -s $HARDHAT_NODE_URL > /dev/null && echo -e "  ‚úÖ N≈ìud Hardhat: $HARDHAT_NODE_URL" || echo -e "  ‚ùå N≈ìud non accessible"
    echo ""
}

project_help() {
    echo -e "${BLUE}=== Aide du Projet ${PROJECT_NAME} ===${NC}"
    echo ""
    echo -e "${YELLOW}Commandes disponibles:${NC}"
    echo "  project_status     - V√©rifier le statut des services"
    echo "  project_help       - Afficher cette aide"
    echo "  make help          - Aide du Makefile"
    echo "  ./start-wsl.sh     - Script de d√©marrage"
    echo "  ./test-wsl.sh      - Script de test"
    echo ""
    echo -e "${YELLOW}URLs des applications:${NC}"
    echo "  Biblioth√®que:      $LIBRARY_FRONTEND_URL"
    echo "  API Biblioth√®que:  $LIBRARY_BACKEND_URL"
    echo "  DApp Vote:         $DAPP_FRONTEND_URL"
    echo "  N≈ìud Hardhat:      $HARDHAT_NODE_URL"
    echo ""
}

# Alias utiles
alias pstatus='project_status'
alias phelp='project_help'
alias start-all='./start-wsl.sh all'
alias test-all='./test-wsl.sh all'
alias library='./start-wsl.sh library'
alias dapp='./start-wsl.sh dapp'

# Messages de bienvenue
echo -e "${GREEN}‚úÖ Environnement WSL configur√© pour ${PROJECT_NAME}${NC}"
echo -e "${YELLOW}Tapez 'phelp' pour voir les commandes disponibles${NC}"